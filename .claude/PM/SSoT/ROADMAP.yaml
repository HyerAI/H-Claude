# .claude/PM/SSoT/ROADMAP.yaml
# STATE document - Development story: HOW we build it, in what order
# Paired with: NORTHSTAR.md (the WHAT - user story, features, requirements)
#
# RULES:
# - Git is our versioning (commit before changes for rollback)
# - Dependencies determine phase transitions and parallelism
# - Each phase links to its think-tank execution-plan
# - Tech debt discovered during development belongs to relevant phases
#
# WORKFLOW:
# 1. /think-tank --roadmap creates/updates this file
# 2. /think-tank "Phase Name" --phase=PHASE-XXX creates phase plan
# 3. Phase plan links back here (plan_path)
# 4. /hc-execute runs the phase
# 5. Phase complete -> dependencies unlock next phases

meta:
  created: '2026-01-10'
  last_updated: '2026-01-10'
  status: active

# Reference to user story (the WHAT)
northstar: .claude/PM/SSoT/NORTHSTAR.md

# Currently active phases (can be multiple if no blocking dependencies)
active_phases:
  - PHASE-002

# Ordered phases - execution sequence determined by dependencies
phases:
  - id: PHASE-001
    title: 'Foundation'
    status: complete
    description: 'Core commands, templates, and agent-spawn library'
    dependencies: []
    plan_path: null  # Bootstrapped manually before roadmap existed
    completed: '2026-01-10'
    deliverables:
      - /think-tank command with council protocol
      - /hc-execute with SWEEP & VERIFY
      - /hc-glass 6-sector audit system
      - /red-team adversarial quality review
      - /hc-cy phase cycle orchestrator
      - agent-spawn.sh V1.2.0 with P1-P3 resilience
      - ADRs 001-007 documenting key decisions
      - Factory/Product separation pattern
    tech_debt: []

  - id: PHASE-002
    title: 'Hardening'
    status: active
    description: 'Integration of resilience features, test coverage, crash recovery validation'
    dependencies: [PHASE-001]
    plan_path: null
    tech_debt:
      - integrate spawn_agent_resilient() into hc-cy
      - integrate dedupe_fixes() for crash recovery
      - integrate extract_panic_items() for GLASS automation
      - create phase-cycles/ directory on first use
      - add test coverage for agent-spawn.sh
      - validate recover_cycle() with simulated crash

  - id: PHASE-003
    title: 'Documentation & Polish'
    status: planned
    description: 'Complete template prompts, examples, tutorials, PM-View wiki'
    dependencies: [PHASE-002]
    plan_path: null
    tech_debt:
      - fill remaining template prompts in think-tank/
      - create usage examples for each command
      - build PM-View wiki with MkDocs
      - document troubleshooting and recovery procedures

  - id: PHASE-004
    title: 'User Experience'
    status: planned
    description: 'CLI feedback, error messages, session state UX improvements'
    dependencies: [PHASE-002]  # Can run parallel with PHASE-003
    plan_path: null
    tech_debt:
      - improve error messages with actionable guidance
      - add progress indicators during long operations
      - streamline session resumption flow

  - id: PHASE-005
    title: 'Template Library'
    status: planned
    description: 'hc-init templates for common project types'
    dependencies: [PHASE-003]
    plan_path: null
    tech_debt:
      - Python project template
      - TypeScript/Node project template
      - Multi-product monorepo template
      - Template validation and testing

# Side-quests: Ad-hoc think-tanks not tied to main phases
side_quests:
  - id: SQ-001
    title: 'Command Architecture Review'
    status: complete
    path: .claude/PM/think-tank/strategic_review_of_hclaude_command_architecture_20260110/
    relates_to: PHASE-002
    outcome: P0-P3 improvements implemented in agent-spawn.sh V1.2.0

# Archived phases: Removed phases kept for history
archived_phases: []

# Changelog: Track scope changes for visibility
changelog:
  - date: '2026-01-10'
    action: initial_roadmap
    reason: 'Created from GLASS audit recommendations and NORTHSTAR alignment'
  - date: '2026-01-10'
    action: phase_complete
    phase_id: PHASE-001
    reason: 'Foundation complete - commands, templates, agent-spawn V1.2.0'
